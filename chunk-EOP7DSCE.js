import{a as $,b as A}from"./chunk-W75MFMO3.js";import"./chunk-VZUIYLOE.js";import{b as V,d as E,e as F,f as D}from"./chunk-UMZQL62R.js";import"./chunk-GGQ7LRWG.js";import"./chunk-2UVPJFPL.js";import"./chunk-OVMELZYD.js";import{c as j,e as N,f as H,g as B}from"./chunk-RJ7EWHRQ.js";import"./chunk-ZAMH6YOC.js";import{g as v}from"./chunk-WYER7LIM.js";import{a as R}from"./chunk-JIDK5B22.js";import{a as W}from"./chunk-MEBS4HZQ.js";import"./chunk-5GXBZKMD.js";import{Ia as w,Ka as a,Lb as S,Nb as s,Ob as f,Ub as z,V as p,Va as g,Vb as h,aa as M,ba as P,fc as I,ia as c,ib as b,ic as L,jb as O,kb as x,lb as y,mb as T,nb as k,ob as m,pb as o,qb as r,rb as d,yb as l}from"./chunk-WB5YP52J.js";var J=()=>({width:"14rem"}),K=n=>["/TvDetails",n];function Q(n,t){n&1&&d(0,"i",12)}function X(n,t){n&1&&d(0,"i",13)}var u=class n{movie=L();votePercent=c(0);watchList=p(W);radius=20;progress=2*Math.PI*this.radius;getRatingColor(t){let i=t<50?255:Math.round(255-(t-50)*5.1),e=t>50?255:Math.round(t*5.1);return`rgb(${i}, ${e}, 0)`}get progressPercentage(){let t=this.votePercent();return this.progress-t/100*this.progress}isFavorite=I(()=>this.watchList.watchTvItems().some(t=>t.id===this.movie().id));onClickFavorite(){this.isFavorite()?(this.watchList.removeTvWatchList(this.movie().id),console.log(this.movie().title,"Removed")):(this.watchList.addTvWatchList(this.movie()),console.log(this.movie().title,"Added"))}ngOnInit(){this.votePercent.set(Number((this.movie().vote_average*10).toFixed(0)))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g({type:n,selectors:[["app-tv-card"]],inputs:{movie:[1,"movie"]},decls:20,vars:16,consts:[[1,"movie-card"],[1,"card-image",3,"routerLink"],[1,"poster",3,"src","alt"],[1,"rating-badge"],["width","44","height","44",1,"progress-ring"],["stroke-width","4","fill","transparent","cx","22","cy","22",1,"progress-ring__circle"],[1,"rating-text"],[1,"card-content"],[1,"info-with-fav"],[1,"info"],[1,"release-date"],[1,"fav-link",3,"click"],[1,"pi","pi-heart-fill","favorite-icon","clicked"],[1,"pi","pi-heart-fill","favorite-icon"]],template:function(i,e){i&1&&(o(0,"p-card",0)(1,"div",1),d(2,"img",2),o(3,"div",3),M(),o(4,"svg",4),d(5,"circle",5),r(),P(),o(6,"div",6),s(7),o(8,"sup"),s(9,"%"),r()()()(),o(10,"div",7)(11,"div",8)(12,"div",9)(13,"h3"),s(14),r(),o(15,"p",10),s(16),r()(),o(17,"a",11),l("click",function(){return e.onClickFavorite()}),O(18,Q,1,0,"i",12)(19,X,1,0,"i",13),r()()()()),i&2&&(S(z(13,J)),a(),m("routerLink",h(14,K,e.movie().id)),a(),m("src","https://image.tmdb.org/t/p/w500/"+e.movie().poster_path,w)("alt",e.movie().title),a(3),b("stroke",e.getRatingColor(e.votePercent()))("r",e.radius)("stroke-dasharray",e.progress+" "+e.progress)("stroke-dashoffset",e.progressPercentage),a(2),f(e.votePercent()),a(7),f(e.movie().name),a(2),f(e.movie().first_air_date),a(2),x(e.isFavorite()?18:19))},dependencies:[B,H,v],styles:[".movie-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 12px #0000001a;overflow:hidden;position:relative;background-color:#f3f1f1;width:230px;min-width:230px;max-width:230px;min-height:420px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.movie-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{position:relative;cursor:pointer}.movie-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .poster[_ngcontent-%COMP%]{width:100%;border-radius:12px}.movie-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:-14px;left:10px;width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#0f0f0f;color:#fff;font-size:.75rem;font-weight:700;box-shadow:0 0 4px #0003;z-index:2}.movie-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .rating-badge[_ngcontent-%COMP%]   .progress-ring[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transform:rotate(-90deg)}.movie-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .rating-badge[_ngcontent-%COMP%]   .progress-ring__circle[_ngcontent-%COMP%]{transition:stroke-dashoffset .35s;transform:rotate(0);transform-origin:center}.movie-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .rating-badge[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%]{z-index:1}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1.2rem .5rem}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-with-fav[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;width:100%;gap:.7rem;margin-bottom:.5rem}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;min-width:0;flex:1 1 auto;max-width:80%}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.15rem;font-weight:700;color:#222;line-height:1.2;max-width:100%;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:normal;word-break:break-word;min-height:2.6em}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .release-date[_ngcontent-%COMP%]{font-size:1rem;color:#b3b3b3;margin:.3rem 0 .2rem;font-weight:500;letter-spacing:.5px;text-align:left}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .fav-link[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-left:.5rem;margin-top:.2em}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .favorite-icon[_ngcontent-%COMP%]{font-size:2rem;margin:0;color:#ccc;transition:transform .2s cubic-bezier(.4,2,.6,1),text-shadow .2s;cursor:pointer}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .favorite-icon[_ngcontent-%COMP%]:hover{text-shadow:1px 1px 4px #666}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .favorite-icon.clicked[_ngcontent-%COMP%]{color:#ffe353;font-size:2rem;animation:_ngcontent-%COMP%_fav-pop .4s cubic-bezier(.4,2,.6,1)}@keyframes _ngcontent-%COMP%_fav-pop{0%{transform:scale(1);text-shadow:0 0 0 #ffe353}40%{transform:scale(1.4) rotate(-10deg);text-shadow:0 0 8px #ffe353}60%{transform:scale(.9) rotate(6deg);text-shadow:0 0 4px #ffe353}to{transform:scale(1);text-shadow:0 0 0 #ffe353}}.info-with-fav[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]})};var Y=n=>["/search",n];function Z(n,t){if(n&1&&d(0,"app-tv-card",8),n&2){let i=t.$implicit;m("movie",i)}}var G=class n{langSub;MovieHttp=p(R);searchValue=c("");movies=c([]);first=c(0);rows=c(1);numPages=c(0);onPageChange(t){let i=(t.page??0)+1;this.first.set(t.first??0),this.rows.set(t.rows??1),this.MovieHttp.getTvPage(i.toString()).subscribe({next:e=>{this.movies.set(e.results)},error:e=>console.log("failed to load Movies:",e)})}ngOnInit(){this.fetchTvShows(),this.langSub=this.MovieHttp.language$.subscribe(()=>{this.fetchTvShows()})}fetchTvShows(){this.MovieHttp.getTvPage("1").subscribe({next:t=>{this.movies.set(t.results),this.numPages.set(t.total_pages)},error:t=>console.log("failed to load Movies:",t)})}ngOnDestroy(){this.langSub?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g({type:n,selectors:[["app-tvshows"]],decls:17,vars:7,consts:[[1,"home"],[1,"home-container"],[1,"search-row"],["pInputText","","type","text","placeholder","Search and explore...",1,"search-input",3,"ngModelChange","ngModel"],["pButton","","type","button","label","Search","icon","pi pi-search",1,"p-button",3,"routerLink"],[1,"movies-container"],[1,"title"],[1,"movies"],[3,"movie"],[1,"card","flex","justify-center"],[3,"onPageChange","first","rows","totalRecords"]],template:function(i,e){i&1&&(o(0,"section",0)(1,"div",1)(2,"h1"),s(3,"Welcome to our movie app"),r(),o(4,"p"),s(5,"Millions of movies, TV shows and people to discover. Explore now."),r(),o(6,"div",2)(7,"input",3),l("ngModelChange",function(_){return e.searchValue.set(_)}),r(),d(8,"a",4),r()(),o(9,"div",5)(10,"h1",6),s(11,"Now Playing TV Shows"),r(),o(12,"div",7),T(13,Z,1,1,"app-tv-card",8,y),r()(),o(15,"div",9)(16,"p-paginator",10),l("onPageChange",function(_){return e.onPageChange(_)}),r()()()),i&2&&(a(7),m("ngModel",e.searchValue()),a(),m("routerLink",h(5,Y,e.searchValue())),a(5),k(e.movies()),a(3),m("first",e.first())("rows",e.rows())("totalRecords",e.numPages()))},dependencies:[D,V,E,F,u,N,j,v,A,$],styles:[".home[_ngcontent-%COMP%]{margin:32px}.home-container[_ngcontent-%COMP%]{background:#f3f1f1;border-radius:6px;padding:32px 24px 40px;max-width:98vw}.home-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-bottom:1.2rem;color:#222}.home-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#222;margin-bottom:2rem}.search-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-top:1.5rem}[_nghost-%COMP%]     .search-input{flex:1;border-radius:10px!important;font-size:1.1rem;padding:.9rem 1.2rem;border:none;background:#fff;box-shadow:none}[_nghost-%COMP%]     .p-button{background:#ffe353!important;color:#222!important;border:none!important;border-radius:10px!important;font-weight:500;font-size:1.1rem;padding:.9rem 2.2rem;box-shadow:none;transition:background .2s;cursor:pointer}[_nghost-%COMP%]     .p-button:hover{background:#fce15ccc!important;box-shadow:0 2px 8px #2222221f;cursor:pointer}.movies-container[_ngcontent-%COMP%]{padding:32px 0 40px;max-width:98vw}.movies-container[_ngcontent-%COMP%]   .movies[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.75rem}.movies-container[_ngcontent-%COMP%]   .movies[_ngcontent-%COMP%]   app-movie-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.movies-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-bottom:1.2rem;color:#222}"]})};export{G as TVshows};
