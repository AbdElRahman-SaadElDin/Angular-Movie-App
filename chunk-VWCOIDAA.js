import{f as y,g as L}from"./chunk-RJ7EWHRQ.js";import{g as k}from"./chunk-WYER7LIM.js";import{a as z}from"./chunk-MEBS4HZQ.js";import{Ia as v,Ka as o,Lb as u,Nb as s,Ob as d,Ub as O,V as l,Va as h,Vb as x,aa as g,ba as p,fc as w,ia as f,ib as _,ic as b,jb as C,kb as M,ob as m,pb as n,qb as a,rb as c,yb as P}from"./chunk-WB5YP52J.js";var I=()=>({width:"14rem"}),S=i=>["/Details",i];function j(i,t){i&1&&c(0,"i",12)}function E(i,t){i&1&&c(0,"i",13)}var F=class i{movie=b();votePercent=f(0);watchList=l(z);radius=20;progress=2*Math.PI*this.radius;getRatingColor(t){let r=t<50?255:Math.round(255-(t-50)*5.1),e=t>50?255:Math.round(t*5.1);return`rgb(${r}, ${e}, 0)`}get progressPercentage(){let t=this.votePercent();return this.progress-t/100*this.progress}isFavorite=w(()=>this.watchList.watchItems().some(t=>t.id===this.movie().id));onClickFavorite(){this.isFavorite()?(this.watchList.removeWatchList(this.movie().id),console.log(this.movie().title,"Removed")):(this.watchList.addWatchList(this.movie()),console.log(this.movie().title,"Added"))}ngOnInit(){this.votePercent.set(Number((this.movie().vote_average*10).toFixed(0)))}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=h({type:i,selectors:[["app-movie-card"]],inputs:{movie:[1,"movie"]},decls:20,vars:16,consts:[[1,"movie-card"],[1,"card-image",3,"routerLink"],[1,"poster",3,"src","alt"],[1,"rating-badge"],["width","44","height","44",1,"progress-ring"],["stroke-width","4","fill","transparent","cx","22","cy","22",1,"progress-ring__circle"],[1,"rating-text"],[1,"card-content"],[1,"info-with-fav"],[1,"info"],[1,"release-date"],[1,"fav-link",3,"click"],[1,"pi","pi-heart-fill","favorite-icon","clicked"],[1,"pi","pi-heart-fill","favorite-icon"]],template:function(r,e){r&1&&(n(0,"p-card",0)(1,"div",1),c(2,"img",2),n(3,"div",3),g(),n(4,"svg",4),c(5,"circle",5),a(),p(),n(6,"div",6),s(7),n(8,"sup"),s(9,"%"),a()()()(),n(10,"div",7)(11,"div",8)(12,"div",9)(13,"h3"),s(14),a(),n(15,"p",10),s(16),a()(),n(17,"a",11),P("click",function(){return e.onClickFavorite()}),C(18,j,1,0,"i",12)(19,E,1,0,"i",13),a()()()()),r&2&&(u(O(13,I)),o(),m("routerLink",x(14,S,e.movie().id)),o(),m("src","https://image.tmdb.org/t/p/w500/"+e.movie().poster_path,v)("alt",e.movie().title),o(3),_("stroke",e.getRatingColor(e.votePercent()))("r",e.radius)("stroke-dasharray",e.progress+" "+e.progress)("stroke-dashoffset",e.progressPercentage),o(2),d(e.votePercent()),o(7),d(e.movie().title),o(2),d(e.movie().release_date),o(2),M(e.isFavorite()?18:19))},dependencies:[L,y,k],styles:[".movie-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 12px #0000001a;overflow:hidden;position:relative;background-color:#f3f1f1;width:230px;min-width:230px;max-width:230px;min-height:420px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.movie-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{position:relative;cursor:pointer}.movie-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .poster[_ngcontent-%COMP%]{width:100%;border-radius:12px}.movie-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:-14px;left:10px;width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#0f0f0f;color:#fff;font-size:.75rem;font-weight:700;box-shadow:0 0 4px #0003;z-index:2}.movie-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .rating-badge[_ngcontent-%COMP%]   .progress-ring[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transform:rotate(-90deg)}.movie-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .rating-badge[_ngcontent-%COMP%]   .progress-ring__circle[_ngcontent-%COMP%]{transition:stroke-dashoffset .35s;transform:rotate(0);transform-origin:center}.movie-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .rating-badge[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%]{z-index:1}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1.2rem .5rem}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-with-fav[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;width:100%;gap:.7rem;margin-bottom:.5rem}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;min-width:0;flex:1 1 auto;max-width:80%}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.15rem;font-weight:700;color:#222;line-height:1.2;max-width:100%;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:normal;word-break:break-word;min-height:2.6em}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .release-date[_ngcontent-%COMP%]{font-size:1rem;color:#b3b3b3;margin:.3rem 0 .2rem;font-weight:500;letter-spacing:.5px;text-align:left}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .fav-link[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-left:.5rem;margin-top:.2em}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .favorite-icon[_ngcontent-%COMP%]{font-size:2rem;margin:0;color:#ccc;transition:transform .2s cubic-bezier(.4,2,.6,1),text-shadow .2s;cursor:pointer}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .favorite-icon[_ngcontent-%COMP%]:hover{text-shadow:1px 1px 4px #666}.movie-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .favorite-icon.clicked[_ngcontent-%COMP%]{color:#ffe353;font-size:2rem;animation:_ngcontent-%COMP%_fav-pop .4s cubic-bezier(.4,2,.6,1)}@keyframes _ngcontent-%COMP%_fav-pop{0%{transform:scale(1);text-shadow:0 0 0 #ffe353}40%{transform:scale(1.4) rotate(-10deg);text-shadow:0 0 8px #ffe353}60%{transform:scale(.9) rotate(6deg);text-shadow:0 0 4px #ffe353}to{transform:scale(1);text-shadow:0 0 0 #ffe353}}.info-with-fav[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]})};export{F as a};
