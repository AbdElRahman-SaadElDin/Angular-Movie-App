import{a as T}from"./chunk-VWCOIDAA.js";import{b as S,d as P,e as O,f as w}from"./chunk-UMZQL62R.js";import{c as k,e as Q}from"./chunk-RJ7EWHRQ.js";import"./chunk-ZAMH6YOC.js";import{d as x,f as C}from"./chunk-WYER7LIM.js";import{a as D}from"./chunk-JIDK5B22.js";import"./chunk-MEBS4HZQ.js";import"./chunk-5GXBZKMD.js";import{Ka as a,Nb as m,Pb as y,V as s,Va as u,ia as c,ic as _,jb as d,kb as h,lb as g,mb as f,nb as v,ob as p,pb as n,qb as o,rb as b,yb as l,zb as M}from"./chunk-WB5YP52J.js";function E(i,e){if(i&1&&(n(0,"h1",5),m(1),o()),i&2){let t=M();a(),y("Search result for: ",t.localQuery())}}function N(i,e){i&1&&(n(0,"h1",5),m(1,"Not Found"),o())}function B(i,e){if(i&1&&b(0,"app-movie-card",7),i&2){let t=e.$implicit;p("movie",t)}}var I=class i{langSub;query=_("");localQuery=c(this.query());MovieHttp=s(D);router=s(C);route=s(x);searchValue=c("");movies=c([]);ngOnInit(){this.route.paramMap.subscribe(e=>{let t=e.get("query")||"";this.searchValue.set(t),this.localQuery.set(t),this.searchMovies()}),this.langSub=this.MovieHttp.language$.subscribe(()=>{this.searchMovies()})}ngOnDestroy(){this.langSub?.unsubscribe()}searchMovies(){if(this.searchValue()!==this.localQuery()){this.localQuery.set(this.searchValue()),this.router.navigate(["/search",this.localQuery()]);return}if(!this.localQuery()){this.movies.set([]);return}this.MovieHttp.getSearchedMovies(this.localQuery()).subscribe({next:e=>{this.movies.set(e.results)},error:e=>console.log("failed to load Movies:",e)})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=u({type:i,selectors:[["app-search-page"]],inputs:{query:[1,"query"]},decls:10,vars:2,consts:[[1,"search"],[1,"search-row"],["pInputText","","type","text","placeholder","Search and explore...",1,"search-input",3,"ngModelChange","ngModel"],["pButton","","type","button","label","Search","icon","pi pi-search",1,"p-button",3,"click"],[1,"movies-container"],[1,"title"],[1,"movies"],[3,"movie"]],template:function(t,r){t&1&&(n(0,"section",0)(1,"div",1)(2,"input",2),l("ngModelChange",function(q){return r.searchValue.set(q)}),o(),n(3,"a",3),l("click",function(){return r.searchMovies()}),o()(),n(4,"div",4),d(5,E,2,1,"h1",5)(6,N,2,0,"h1",5),n(7,"div",6),f(8,B,1,1,"app-movie-card",7,g),o()()()),t&2&&(a(2),p("ngModel",r.searchValue()),a(3),h(r.movies().length>0?5:6),a(3),v(r.movies()))},dependencies:[Q,k,T,w,S,P,O],styles:[".search[_ngcontent-%COMP%]{margin:32px}.search-row[_ngcontent-%COMP%]{background:#f3f1f1;border-radius:6px;padding:32px 24px 40px;max-width:98vw;display:flex;align-items:center;gap:1rem;margin-top:1.5rem}[_nghost-%COMP%]     .search-input{flex:1;border-radius:10px!important;font-size:1.1rem;padding:.9rem 1.2rem;border:none;background:#fff;box-shadow:none}[_nghost-%COMP%]     .p-button{background:#ffe353!important;color:#222!important;border:none!important;border-radius:10px!important;font-weight:500;font-size:1.1rem;padding:.9rem 2.2rem;box-shadow:none;transition:background .2s}[_nghost-%COMP%]     .p-button:hover{background:#fce15ccc!important;box-shadow:0 2px 8px #2222221f}.movies-container[_ngcontent-%COMP%]{padding:32px 0 40px;max-width:98vw}.movies-container[_ngcontent-%COMP%]   .movies[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.75rem}.movies-container[_ngcontent-%COMP%]   .movies[_ngcontent-%COMP%]   app-movie-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.movies-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-bottom:1.2rem;color:#222}"]})};export{I as SearchPage};
