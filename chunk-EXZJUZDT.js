import{a as S}from"./chunk-VWCOIDAA.js";import{a as H,b as k}from"./chunk-W75MFMO3.js";import"./chunk-VZUIYLOE.js";import{b as _,d as P,e as C,f as w}from"./chunk-UMZQL62R.js";import"./chunk-GGQ7LRWG.js";import"./chunk-2UVPJFPL.js";import"./chunk-OVMELZYD.js";import{c as x,e as O}from"./chunk-RJ7EWHRQ.js";import"./chunk-ZAMH6YOC.js";import{g as b}from"./chunk-WYER7LIM.js";import{a as y}from"./chunk-JIDK5B22.js";import"./chunk-MEBS4HZQ.js";import"./chunk-5GXBZKMD.js";import{Ka as s,Nb as p,V as d,Va as u,Vb as M,ia as a,lb as f,mb as h,nb as v,ob as m,pb as r,qb as n,rb as l,yb as g}from"./chunk-WB5YP52J.js";var T=i=>["/search",i];function I(i,e){if(i&1&&l(0,"app-movie-card",8),i&2){let o=e.$implicit;m("movie",o)}}var D=class i{langSub;first=a(0);rows=a(1);numPages=a(0);onPageChange(e){let o=(e.page??0)+1;this.first.set(e.first??0),this.rows.set(e.rows??1),this.MovieHttp.getMoviesPage(o.toString()).subscribe({next:t=>{this.movies.set(t.results)},error:t=>console.log("failed to load Movies:",t)})}MovieHttp=d(y);searchValue=a("");movies=a([]);ngOnInit(){this.fetchMovies(),this.langSub=this.MovieHttp.language$.subscribe(()=>{this.fetchMovies()})}fetchMovies(){this.MovieHttp.getMoviesPage("1").subscribe({next:e=>{this.movies.set(e.results),this.numPages.set(e.total_pages)},error:e=>console.log("failed to load Movies:",e)})}ngOnDestroy(){this.langSub?.unsubscribe()}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=u({type:i,selectors:[["app-home"]],decls:17,vars:7,consts:[[1,"home"],[1,"home-container"],[1,"search-row"],["pInputText","","type","text","placeholder","Search and explore...",1,"search-input",3,"ngModelChange","ngModel"],["pButton","","type","button","label","Search","icon","pi pi-search",1,"p-button",3,"routerLink"],[1,"movies-container"],[1,"title"],[1,"movies"],[3,"movie"],[1,"card","flex","justify-center"],[3,"onPageChange","first","rows","totalRecords"]],template:function(o,t){o&1&&(r(0,"section",0)(1,"div",1)(2,"h1"),p(3,"Welcome to our movie app"),n(),r(4,"p"),p(5,"Millions of movies, TV shows and people to discover. Explore now."),n(),r(6,"div",2)(7,"input",3),g("ngModelChange",function(c){return t.searchValue.set(c)}),n(),l(8,"a",4),n()(),r(9,"div",5)(10,"h1",6),p(11,"Now Playing"),n(),r(12,"div",7),h(13,I,1,1,"app-movie-card",8,f),n()(),r(15,"div",9)(16,"p-paginator",10),g("onPageChange",function(c){return t.onPageChange(c)}),n()()()),o&2&&(s(7),m("ngModel",t.searchValue()),s(),m("routerLink",M(5,T,t.searchValue())),s(5),v(t.movies()),s(3),m("first",t.first())("rows",t.rows())("totalRecords",t.numPages()))},dependencies:[O,x,S,w,_,P,C,b,k,H],styles:[".home[_ngcontent-%COMP%]{margin:32px}.home-container[_ngcontent-%COMP%]{background:#f3f1f1;border-radius:6px;padding:32px 24px 40px;max-width:98vw}.home-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-bottom:1.2rem;color:#222}.home-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#222;margin-bottom:2rem}.search-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-top:1.5rem}[_nghost-%COMP%]     .search-input{flex:1;border-radius:10px!important;font-size:1.1rem;padding:.9rem 1.2rem;border:none;background:#fff;box-shadow:none}[_nghost-%COMP%]     .p-button{background:#ffe353!important;color:#222!important;border:none!important;border-radius:10px!important;font-weight:500;font-size:1.1rem;padding:.9rem 2.2rem;box-shadow:none;transition:background .2s;cursor:pointer}[_nghost-%COMP%]     .p-button:hover{background:#fce15ccc!important;box-shadow:0 2px 8px #2222221f;cursor:pointer}.movies-container[_ngcontent-%COMP%]{padding:32px 0 40px;max-width:98vw}.movies-container[_ngcontent-%COMP%]   .movies[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.75rem}.movies-container[_ngcontent-%COMP%]   .movies[_ngcontent-%COMP%]   app-movie-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.movies-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-bottom:1.2rem;color:#222}"]})};export{D as Home};
