import{a as P}from"./chunk-JIDK5B22.js";import{a as k}from"./chunk-MEBS4HZQ.js";import{o as O}from"./chunk-5GXBZKMD.js";import{Ia as p,Ka as o,Kb as M,Nb as l,Ob as f,Pb as v,V as h,Va as C,fc as y,ia as b,ic as T,jb as _,kb as x,lb as d,mb as m,nb as c,ob as g,pb as r,qb as t,rb as s,yb as w,zb as u}from"./chunk-WB5YP52J.js";function D(e,i){if(e&1&&s(0,"i",21),e&2){let n=i.$implicit,a=u();M("filled",n<a.getFilledStars())}}function I(e,i){e&1&&s(0,"i",11)}function E(e,i){e&1&&s(0,"i",12)}function z(e,i){if(e&1&&(r(0,"span",15),l(1),t()),e&2){let n=i.$implicit;o(),f(n.name)}}function F(e,i){if(e&1&&(r(0,"span"),l(1),t()),e&2){let n=i.$implicit;o(),v(" ",n.english_name)}}function V(e,i){if(e&1&&s(0,"img",18),e&2){let n=i.$implicit;g("src",n.logo_path,p)("alt",n.name)}}function L(e,i){if(e&1&&(r(0,"div",22),s(1,"img",23),t()),e&2){let n=u().$implicit;o(),g("src","https://image.tmdb.org/t/p/w500/"+n.logo_path,p)("alt",n.name)}}function $(e,i){if(e&1&&_(0,L,2,2,"div",22),e&2){let n=i.$implicit;x(n.logo_path?0:-1)}}function B(e,i){if(e&1&&(r(0,"a",20),s(1,"i",24),l(2,"Website "),t()),e&2){let n=u();g("href",n.movie().homepage,p)}}var S=class e{langSub;tvId=T();MovieHttp=h(P);watchList=h(k);movie=b({});getStarCount(){return[0,1,2,3,4]}getFilledStars(){return Math.round(this.movie().vote_average/2)}isFavorite=y(()=>this.watchList.watchTvItems().some(i=>i.id===this.movie().id));onClickFavorite(){this.isFavorite()?(this.watchList.removeTvWatchList(this.movie().id),console.log(this.movie().title,"Removed")):(this.watchList.addTvWatchList(this.movie()),console.log(this.movie().title,"Added"))}ngOnInit(){this.fetchTvDetails(),this.langSub=this.MovieHttp.language$.subscribe(()=>{this.fetchTvDetails()})}fetchTvDetails(){this.MovieHttp.getTvDetails(this.tvId()).subscribe({next:i=>{this.movie.set(i)},error:i=>console.log("failed to load Movies:",i)})}ngOnDestroy(){this.langSub?.unsubscribe()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=C({type:e,selectors:[["app-details-tv"]],inputs:{tvId:[1,"tvId"]},decls:43,vars:10,consts:[[1,"details-container"],[1,"details-poster"],[3,"src","alt"],[1,"details-content"],[1,"details-title"],[1,"details-date"],[1,"details-rating-row"],[1,"details-stars"],[1,"pi","pi-star",3,"filled"],[1,"details-votes"],[1,"fav-link",3,"click"],[1,"pi","pi-heart-fill","favorite-icon","clicked"],[1,"pi","pi-heart-fill","favorite-icon"],[1,"details-overview"],[1,"details-genres"],[1,"genre-chip"],[1,"details-meta"],[1,"details-studios"],[1,"studio-logo",3,"src","alt"],[1,"production-logos"],["target","_blank",1,"details-website",3,"href"],[1,"pi","pi-star"],[1,"production-logo-wrap"],[1,"production-logo",3,"src","alt"],[1,"pi","pi-external-link"]],template:function(n,a){n&1&&(r(0,"div",0)(1,"div",1),s(2,"img",2),t(),r(3,"div",3)(4,"h1",4),l(5),t(),r(6,"div",5)(7,"b"),l(8,"From"),t(),l(9),r(10,"b"),l(11,"to"),t(),l(12),t(),r(13,"div",6)(14,"span",7),m(15,D,1,2,"i",8,d),t(),r(17,"span",9),l(18),t(),r(19,"a",10),w("click",function(){return a.onClickFavorite()}),_(20,I,1,0,"i",11)(21,E,1,0,"i",12),t()(),r(22,"div",13),l(23),t(),r(24,"div",14),m(25,z,2,1,"span",15,d),t(),r(27,"div",16)(28,"span")(29,"b"),l(30,"Number of seasons:"),t(),l(31),t(),r(32,"b"),l(33,"Languages:"),t(),m(34,F,2,1,"span",null,d),t(),r(36,"div",17),m(37,V,1,2,"img",18,d),t(),r(39,"div",19),m(40,$,1,1,null,null,d),t(),_(42,B,3,1,"a",20),t()()),n&2&&(o(2),g("src","https://image.tmdb.org/t/p/w500/"+a.movie().poster_path,p)("alt",a.movie().title),o(3),f(a.movie().name),o(4),v(" ",a.movie().first_air_date," "),o(3),v(" ",a.movie().last_air_date," "),o(3),c(a.getStarCount()),o(3),f(a.movie().vote_average/2),o(2),x(a.isFavorite()?20:21),o(3),f(a.movie().overview),o(2),c(a.movie().genres),o(6),v(" ",a.movie().number_of_seasons),o(3),c(a.movie().spoken_languages),o(3),c(a.movie().studios),o(3),c(a.movie().production_companies),o(2),x(a.movie().homepage?42:-1))},dependencies:[O],styles:[".production-logos[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.7rem 1.2rem;align-items:center}.production-logo-wrap[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 4px #0000000f;padding:2px 8px;display:flex;align-items:center;background-color:#eee;height:42px}.production-logo[_ngcontent-%COMP%]{max-width:80px;object-fit:contain;filter:grayscale(.2) contrast(1.1);transition:filter .2s}.production-logo[_ngcontent-%COMP%]:hover{filter:grayscale(0) contrast(1.2) drop-shadow(0 2px 8px rgba(255,228,94,.5333333333))}.details-container[_ngcontent-%COMP%]{display:flex;gap:2.5rem;align-items:flex-start;padding:2.5rem 2rem;background:#fff;border-radius:24px;box-shadow:0 4px 24px #00000012;max-width:1000px;margin:2rem auto}.details-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:440px;object-fit:cover;border-radius:18px;box-shadow:0 2px 16px #00000021}.details-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.details-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:.2rem}.details-date[_ngcontent-%COMP%]{color:#888;font-size:1rem;margin-bottom:.5rem}.details-rating-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.7rem;font-size:1.2rem}.details-stars[_ngcontent-%COMP%]{color:#222}.pi-star[_ngcontent-%COMP%]{color:#bbb;font-size:1.3rem;margin-right:2px}.pi-star.filled[_ngcontent-%COMP%]{color:#222}.details-votes[_ngcontent-%COMP%]{color:#222;font-weight:500;margin-left:.3rem}.fav-link[_ngcontent-%COMP%]{display:flex;align-items:flex-start;font-size:1.5rem;margin-left:auto}.favorite-icon[_ngcontent-%COMP%]{font-size:2rem;margin:0;color:#ccc;transition:transform .2s cubic-bezier(.4,2,.6,1),text-shadow .2s;cursor:pointer}.favorite-icon[_ngcontent-%COMP%]:hover{text-shadow:1px 1px 4px #666}.favorite-icon.clicked[_ngcontent-%COMP%]{color:#ffe353;font-size:2rem;animation:_ngcontent-%COMP%_fav-pop .4s cubic-bezier(.4,2,.6,1)}@keyframes _ngcontent-%COMP%_fav-pop{0%{transform:scale(1);text-shadow:0 0 0 #ffe353}40%{transform:scale(1.4) rotate(-10deg);text-shadow:0 0 8px #ffe353}60%{transform:scale(.9) rotate(6deg);text-shadow:0 0 4px #ffe353}to{transform:scale(1);text-shadow:0 0 0 #ffe353}}.details-overview[_ngcontent-%COMP%]{font-size:1.1rem;color:#222;margin:1rem 0 .5rem;line-height:1.6}.details-genres[_ngcontent-%COMP%]{display:flex;gap:.7rem;margin-bottom:.7rem}.genre-chip[_ngcontent-%COMP%]{background:#ffe45e;color:#222;border-radius:16px;padding:.4rem 1.2rem;font-size:1rem;font-weight:500}.details-meta[_ngcontent-%COMP%]{display:flex;gap:2.5rem;color:#222;font-size:1.05rem;margin-bottom:.7rem}.details-studios[_ngcontent-%COMP%]{display:flex;gap:1.2rem;align-items:center;margin-bottom:.7rem}.studio-logo[_ngcontent-%COMP%]{height:36px;background:#fff;border-radius:6px;padding:2px 8px;box-shadow:0 1px 4px #00000012}.details-website[_ngcontent-%COMP%]{max-width:120px;display:inline-flex;align-items:center;gap:.4rem;background:#fff;color:#000;background:#ffe45e;border:1.5px solid #ffe45e;border-radius:16px;padding:.5rem 1.2rem;font-size:1.1rem;font-weight:500;text-decoration:none;margin-top:2rem;transition:background .2s,border .2s}.details-website[_ngcontent-%COMP%]:hover{background:#e9c40e}"]})};export{S as DetailsTV};
